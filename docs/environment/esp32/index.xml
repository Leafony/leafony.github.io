<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Leafony – ESP32 MCU 開発環境設定マニュアル</title>
    <link>https://docs.leafony.com/docs/environment/esp32/</link>
    <description>Recent content in ESP32 MCU 開発環境設定マニュアル on Leafony</description>
    <generator>Hugo -- gohugo.io</generator>
    
	  <atom:link href="https://docs.leafony.com/docs/environment/esp32/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>Docs: ESP32 MCU の Arduino IDE 設定</title>
      <link>https://docs.leafony.com/docs/environment/esp32/arduino/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://docs.leafony.com/docs/environment/esp32/arduino/</guid>
      <description>
        
        
        &lt;p&gt;以下の手順で ESP32 Wi-Fi Kitの Arduino IDE開発環境の設定を行いましょう。&lt;/p&gt;


&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;次のステップ&lt;/h4&gt;
Leafonyにプログラムを書き込むために必要なソフトウェアをインストール
&lt;/div&gt;

&lt;h2 id=&#34;用意するもの&#34;&gt;用意するもの&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ESP32 Wi-Fi Kit&lt;/li&gt;
&lt;li&gt;PC (Windows、Mac OS X 、または Linux)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;arduino-ideのインストール&#34;&gt;Arduino IDEのインストール&lt;/h2&gt;
&lt;p&gt;Arduino IDEは、オープンソースの電子工作向けハードウェアプラットフォームであるArduinoの開発環境です。&lt;br&gt;
この開発環境では、プログラムを記述したり、Arduino基板にプログラムを書き込んだり、基板から送られてくるデータを表示したりすることができます。&lt;br&gt;
LeafonyはArduino互換の基板なので、Arduino IDEを使って開発できます。&lt;/p&gt;
&lt;p&gt;早速Arduino IDEをダウンロードしてみましょう。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://www.arduino.cc/&#34; target=&#34;_blank&#34;&gt;Arduino ホームページ&lt;/a&gt;から「SOFTWARE」 → 「DOWNLOADS」の順でページを開き、Arduino IDEのダウンロードページに飛ぶ。&lt;/li&gt;
&lt;li&gt;「Download the Arduino IDE」と書いてある場所で、使用しているOSにあったインストーラをダウンロード。&lt;/li&gt;
&lt;li&gt;ダウンロードしたインストーラを実行して、画面の指示に従ってArduino IDEをインストール。&lt;/li&gt;
&lt;/ol&gt;


&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;次のステップ&lt;/h4&gt;
Leafonyにプログラムを書き込んで動かしてみましょう！
&lt;/div&gt;

&lt;h2 id=&#34;pcと接続&#34;&gt;PCと接続&lt;/h2&gt;
&lt;p&gt;USBケーブルでPCと接続しましょう。&lt;br&gt;&lt;/p&gt;
&lt;img src=&#34;./esp32_assemble.png&#34; width=&#34;500&#34;&gt;
&lt;h2 id=&#34;マイコンボードの設定&#34;&gt;マイコンボードの設定&lt;/h2&gt;
&lt;p&gt;ESP32 MCUリーフをArduino IDEで使用するには、Arduino core for the ESP32 のインストールが必要です。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Arduino IDEの&lt;code&gt;ファイル → 環境設定&lt;/code&gt;を開き、&lt;code&gt;追加のボードマネージャのURL:&lt;/code&gt;に、下記URLを入力してください。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;　　&lt;code&gt;https://dl.espressif.com/dl/package_esp32_index.json&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./ArduinoIDE_URL.png&#34;&gt;&lt;/img&gt;&lt;/p&gt;
&lt;br&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;code&gt;ツール→ボード→ボードマネージャ&lt;/code&gt;を選択し、&lt;code&gt;esp32 by Espressif Systems&lt;/code&gt;を検索し、インストールのボタンを押しましょう。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;./BoardManager_esp32.png&#34;&gt;&lt;/img&gt;&lt;/p&gt;
&lt;br&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;&lt;code&gt;ツール → ボード → ESP32 Dev Module&lt;/code&gt;を選択すれば、ESP32 MCUが使えるようになります。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;マイコンボードの動作確認&#34;&gt;マイコンボードの動作確認&lt;/h2&gt;
&lt;p&gt;サンプルスケッチを書き込んで、ESP32 Wi-Fi Kitを動かしてみましょう。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Arduinoを起動する。&lt;/li&gt;
&lt;li&gt;下記のサンプルコードをコードエディタに貼り付ける。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;//*****************************
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;// ボタン入力の状態をシリアルモニタに表示するサンプル
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;//*****************************
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;pushButton&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;

&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;setup&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;Serial&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;begin&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;115200&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;);&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;pinMode&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;pushButton&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;INPUT&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;);&lt;/span&gt;
&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt;

&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;loop&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
  &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;buttonState&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;digitalRead&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;pushButton&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;);&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;Serial&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;buttonState&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;);&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;delay&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;);&lt;/span&gt;
&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ESP32リーフが接続されたCOMポートを選択する。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;マイコンボードに書き込む&lt;/code&gt;ボタンを押してスケッチを書き込む。&lt;/li&gt;
&lt;li&gt;書き込み中に下記の表示が出たら、ESP32リーフの&lt;code&gt;Bootモードスイッチ&lt;/code&gt;を長押しする。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;./esp32_write.png&#34;&gt;&lt;/img&gt;&lt;/p&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;シリアルモニタを開いて、通信速度を&lt;code&gt;115200bps&lt;/code&gt;にする。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Bootモードスイッチ(IO0)&lt;/code&gt;を押してスイッチの入力状態が変わるのを確認する。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;./AP02_tips.png&#34;&gt;&lt;img src=&#34;./AP02_tips.png&#34; width=&#34;450&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;ピンの指定&#34;&gt;ピンの指定&lt;/h2&gt;
&lt;p&gt;ピンの指定は、名前(Name)ではなく、&lt;strong&gt;ポート(Port)でピンを指定して下さい&lt;/strong&gt;。&lt;/br&gt;&lt;/br&gt;
&lt;a href=&#34;https://docs.leafony.com/docs/leaf/processor/ap02/ap02_pinassign_v1.png&#34;&gt;&lt;img src=&#34;https://docs.leafony.com/docs/leaf/processor/ap02/ap02_pinassign_v1.png&#34; width=&#34;750&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;制限事項&#34;&gt;制限事項&lt;/h3&gt;
&lt;p&gt;※1：出力の設定不可&lt;/br&gt;
※2：①UART1は、ピン番号をRX=26、TX=25に設定。UART0、2に関しては、ピン番号の指定無し。UART1の設定例を記す。&lt;/br&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;color:#000&#34;&gt;HardwareSerial&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Serial1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;);&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;// UART1 (RX=9, TX=10)
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;setup&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;Serial1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;begin&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;9600&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;SERIAL_8N1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;26&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;25&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;);&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;// ピンを変更 (RX=26, TX=25)
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;　　②WiFi.hをインクルードする場合は、アナログ入力として使用不可&lt;/br&gt;&lt;/p&gt;
&lt;p&gt;※3:ブートストラップに使用しているため、プルアップ禁止&lt;/p&gt;
&lt;h2 id=&#34;ライブラリのインストール&#34;&gt;ライブラリのインストール&lt;/h2&gt;
&lt;p&gt;一部のリーフを使用するには、追加のライブラリをインストールする必要があります。&lt;/br&gt;
&lt;a href=&#34;https://docs.leafony.com/docs/environment/avr/arduino/#%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB&#34; target=&#34;_blank&#34;&gt;こちら&lt;/a&gt;を参照して、あらかじめ全てののライブラリをインストールしておきましょう。&lt;/p&gt;
&lt;h2 id=&#34;困ったときは&#34;&gt;困ったときは&lt;/h2&gt;
&lt;p&gt;「&lt;a href=&#34;https://docs.leafony.com/docs/getting-started/solution&#34; target=&#34;_blank&#34;&gt;うまく動かないときは&lt;/a&gt;」で解決方法を探してみましょう。&lt;br&gt;


&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;次のステップ&lt;/h4&gt;
&lt;a href=&#34;https://docs.leafony.com/docs/examples&#34;&gt;サンプルアプリ&lt;/a&gt;には、幾つものプログラムを用意しています。&lt;br&gt;
開発を簡単にするため、ライブラリをインストールしてから、始めてください。
&lt;/div&gt;
&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: ESP32 MCU の PlatformIO 設定</title>
      <link>https://docs.leafony.com/docs/environment/esp32/platformio/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://docs.leafony.com/docs/environment/esp32/platformio/</guid>
      <description>
        
        
        &lt;h2 id=&#34;はじめに&#34;&gt;はじめに&lt;/h2&gt;
&lt;p&gt;Arduino IDEの代わりに、PlatformIOをLeafonyの開発環境として使うことも可能です。
PlatformIOを使うと、ライブラリのバージョン管理やボード設定の管理などを簡単に行えるだけでなく、
Visual Studio Codeの強力なプラグインを活用し、より快適な開発をすることができます。&lt;/p&gt;
&lt;h2 id=&#34;事前準備&#34;&gt;事前準備&lt;/h2&gt;
&lt;p&gt;PlatformIOはVisual Studio Code (以下、VSCode)のプラグインです。
事前に以下のソフトウェアをインストールする必要があります。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://code.visualstudio.com/&#34;&gt;VSCode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.python.org/downloads/&#34;&gt;Python 3&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;platformioのインストール&#34;&gt;PlatformIOのインストール&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;VSCodeを起動し、「拡張機能」タブを開く。&lt;/li&gt;
&lt;li&gt;検索窓に&lt;code&gt;platformio ide&lt;/code&gt;を入力する。&lt;/li&gt;
&lt;li&gt;PlatformIO IDEをインストールする。&lt;/li&gt;
&lt;/ol&gt;
&lt;img src=&#34;./001.jpg&#34; width=&#34;300&#34;&gt;
&lt;h2 id=&#34;クイックスタート&#34;&gt;クイックスタート&lt;/h2&gt;
&lt;h3 id=&#34;新規プロジェクトを作成&#34;&gt;新規プロジェクトを作成&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;PlatformIO Home&lt;/code&gt;ボタンを押してPlatformIOのホームを表示する。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;New Project&lt;/code&gt;をクリック。&lt;/li&gt;
&lt;li&gt;任意のプロジェクト名を指定し、&lt;code&gt;Board&lt;/code&gt;で&lt;code&gt;fm-devkit&lt;/code&gt;を選択。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;src&lt;/code&gt;フォルダに含まれる&lt;code&gt;main.cpp&lt;/code&gt;を開き、以下のコードを貼り付け。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;//=====================================================================
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;//  Button
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;//
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;//    (c) 2020 Trillion-Node Study Group
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;//    Released under the MIT license
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;//    https://opensource.org/licenses/MIT
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;//
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;//      Rev.00 2020/07/02  First release
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;//=====================================================================
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&amp;lt;Arduino.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;pushButton&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;

&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;setup&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;Serial&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;begin&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;115200&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;);&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;pinMode&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;pushButton&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;INPUT&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;);&lt;/span&gt;
&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt;

&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;loop&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
  &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;buttonState&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;digitalRead&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;pushButton&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;);&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;Serial&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;buttonState&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;);&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;delay&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1000&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;);&lt;/span&gt;
&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;&lt;code&gt;Build&lt;/code&gt;ボタンを押してプロジェクトをビルド。&lt;/li&gt;
&lt;li&gt;LeafonyをPCに接続。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Upload&lt;/code&gt;ボタンを押してプロジェクトをLeafonyに書き込み。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Serial Port Monitor&lt;/code&gt;ボタンを押すとシリアルモニタが表示され、ボタンの入力状態が表示される。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ライブラリをインストール&#34;&gt;ライブラリをインストール&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;PlatformIO Home&lt;/code&gt;ボタンを押してPlatformIOのホームを表示する。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Libraries&lt;/code&gt;タブを開く。&lt;/li&gt;
&lt;li&gt;検索窓に&lt;code&gt;OPT3001&lt;/code&gt;と入力し、照度センサOPT3001用ライブラリを検索。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ClosedCube OPT3001&lt;/code&gt;をクリック。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Add to Project&lt;/code&gt;ボタンをクリックし、&lt;code&gt;Add&lt;/code&gt;で追加。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;platformio.ini&lt;/code&gt;を開く。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lib_deps&lt;/code&gt;オプションに&lt;code&gt;closedcube/ClosedCube OPT3001 @ &amp;lt;バージョン&amp;gt;&lt;/code&gt;が追加されているか確認。&lt;/li&gt;
&lt;li&gt;下記のコードを貼り付けると、上記の操作をしなくても簡単にライブラリの環境を設定することができる。&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;[env:fm-devkit]
platform = espressif32
board = fm-devkit
framework = arduino
monitor_speed = 115200
lib_deps =
	closedcube/ClosedCube OPT3001 @ ^1.1.2
	adafruit/Adafruit LIS3DH@1.1.2
	https://github.com/ameltech/sme-hts221-library.git
	https://github.com/Leafony/TBGLib
	tomozh/ST7032@0.0.0-alpha+sha.501bf64fe6
	paulstoffregen/MsTimer2@^1.1
	adafruit/RTClib@^1.11.2
	adafruit/Adafruit Unified Sensor@^1.1.4
	adafruit/Adafruit BusIO@^1.5.0
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;書き込みとシリアルモニタ&#34;&gt;書き込みとシリアルモニタ&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Serial Port Monitor&lt;/code&gt;ボタンを押すと、シリアルモニタが表示される。&lt;/p&gt;
&lt;h2 id=&#34;参考&#34;&gt;参考&lt;/h2&gt;
&lt;p&gt;PlatformIO for VSCodeのより詳細な使い方は、公式ドキュメントを参考。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.platformio.org/en/latest/integration/ide/vscode.html#ide-vscode&#34;&gt;https://docs.platformio.org/en/latest/integration/ide/vscode.html#ide-vscode&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: ESP32を使用する場合の注意点</title>
      <link>https://docs.leafony.com/docs/environment/esp32/esp32_notice/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://docs.leafony.com/docs/environment/esp32/esp32_notice/</guid>
      <description>
        
        
        &lt;p&gt;ESP32を使用する場合は以下の注意点があります。&lt;/p&gt;
&lt;h2 id=&#34;arduinoでのピンの指定&#34;&gt;Arduinoでのピンの指定&lt;/h2&gt;
&lt;p&gt;Arduinoのピン名称ではなく、ESP32のIO番号で指定します。
Arduinoピン名称A1、A2は、Wi-Fiを使用する場合(WiFi.hをインクルードする場合)アナログ入力として使用できません。&lt;/p&gt;
&lt;p&gt;Arduinoピン番号A0、A3、A4、A5は出力にすることはできません。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Arduinoピン名称&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ESP32 IO番号&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;制限事項&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;A0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO36&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;出力設定不可&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;A1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO25&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;※1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;A2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO26&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;※1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;A3&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO39&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;出力設定不可&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;A4&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO34&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;出力設定不可&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;A5&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO35&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;出力設定不可&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;※1：A1、A2は、Wi-Fiを使用する場合(WiFi.hをインクルードする場合)アナログ入力として使用できません。&lt;/p&gt;
&lt;p&gt;以下のピンはブートストラップに使用しているため、プルアップ、プルダウンの制限があります。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Arduinoピン名称&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ESP32 IO番号&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;制限事項&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;D4&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO12&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;プルアップ禁止&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;D7&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO15&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;プルダウン禁止&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;D10&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO5&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;プルダウン禁止&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;電池動作&#34;&gt;電池動作&lt;/h2&gt;
&lt;p&gt;ESP32 MCUはコイン電池では動作しません。&lt;/p&gt;
&lt;h2 id=&#34;uart&#34;&gt;UART&lt;/h2&gt;
&lt;p&gt;ESP32ではハードウエアシリアルが3系統使用可能です。UART0とUART2は以下の通りです。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;UART番号&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;信号名&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Arduinoピン名称&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ESP32 IO番号&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;UART0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;RXD0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;D0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;TXD0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;D1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;UART2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;TXD2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;D8&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO17&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;RXD2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;D9&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO16&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;UART1を使用する場合はピン番号を変更する必要があります。通常、Arduinoピン番号A1、A2をUART1として使用します。
変更後のピン番号は以下の通りです。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;UART番号&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;信号名&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Arduinoピン名称&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ESP32 IO番号&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;UART1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;TXD1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;A1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO25&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;RXD1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;A2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO26&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Arduinoスケッチの設定例&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;color:#000&#34;&gt;HardwareSerial&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Serial1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;);&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;// UART1 (RX=9, TX=10)
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;setup&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;Serial1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;begin&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;9600&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;SERIAL_8N1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;26&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;25&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;);&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;// ピンを変更 (RX=26, TX=25)
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h2 id=&#34;タッチセンサ&#34;&gt;タッチセンサ&lt;/h2&gt;
&lt;p&gt;ESP32は静電容量式タッチセンサの機能を持っています。
配線の容量によって値が変わるので閾値の調整が必要です。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Leafonyピン番号&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Arduinoピン名称&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ESP32 IO番号&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;タッチセンサ番号&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;備考&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;7&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;D6&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO14&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;T6&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;－&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;9&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;D7&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO15&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;T3&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;－&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;22&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;D2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO4&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;T0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;－&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;24&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;D3&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO27&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;T7&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ESP32 Wi-Fi Kitでは使用不可&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;26&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;D4&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO12&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;T5&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;－&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;28&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;D5&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IO13&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;T4&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;－&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

      </description>
    </item>
    
  </channel>
</rss>
