<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Leafony – STM32 MCU 開発環境設定マニュアル</title>
    <link>https://docs.leafony.com/docs/environment/stm32/</link>
    <description>Recent content in STM32 MCU 開発環境設定マニュアル on Leafony</description>
    <generator>Hugo -- gohugo.io</generator>
    
	  <atom:link href="https://docs.leafony.com/docs/environment/stm32/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>Docs: STM32 MCU の Arduino IDE 設定</title>
      <link>https://docs.leafony.com/docs/environment/stm32/arduino_ide/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://docs.leafony.com/docs/environment/stm32/arduino_ide/</guid>
      <description>
        
        
        &lt;p&gt;以下の手順で STM32 MCU 開発環境の設定を行いましょう。&lt;/p&gt;
&lt;h2 id=&#34;用意するもの&#34;&gt;用意するもの&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;STM32 MCUリーフ&lt;/li&gt;
&lt;li&gt;USBリーフ&lt;/li&gt;
&lt;li&gt;PC (Windows、Mac OS X 、または Linux)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Arduino IDEはインストールしてある前提です。
&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;pcと接続&#34;&gt;PCと接続&lt;/h2&gt;
&lt;p&gt;USBケーブルでPCと接続しましょう。&lt;br&gt;&lt;/p&gt;
&lt;img src=&#34;./stm32_assemble.jpg&#34; width=&#34;430&#34;&gt;
&lt;br&gt;&lt;br&gt;
## マイコンボードの設定
STM32 MCUリーフをArduino IDEで使用するには、STM32 Coresのインストールが必要です。
STM32 Coresの詳細は、&lt;a href=&#34;https://github.com/stm32duino/Arduino_Core_STM32&#34; target=&#34;_blank&#34;&gt;こちら&lt;/a&gt;を参照してください。
&lt;p&gt;Arduino IDEの&lt;code&gt;ファイル → 環境設定&lt;/code&gt;を開き、&lt;code&gt;追加のボードマネージャのURL:&lt;/code&gt;に、下記URLを入力してください。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;https://github.com/stm32duino/BoardManagerFiles/raw/master/STM32/package_stm_index.json&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./stm32cores1.png&#34;&gt;&lt;/img&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ツール→ボード→ボードマネージャ&lt;/code&gt;を選択し、STM32 Coresを検索し、&lt;code&gt;インストール&lt;/code&gt;のボタンを押しましょう。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./stm32cores2.png&#34;&gt;&lt;/img&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ツール → ボード→ STM32 Boards (Selected from submenu)→ Nucleo-64&lt;/code&gt; をクリックします。
&lt;img src=&#34;./stm32boards1.png&#34;&gt;&lt;/img&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;ツール → Board part number: *****→ Nucleo L452RE&lt;/code&gt; をクリックします。
&lt;img src=&#34;./stm32boards2.png&#34;&gt;&lt;/img&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;ツール → Upload method: ***** → STM32CubeProgrammer(Serial)&lt;/code&gt; をクリックします。
&lt;img src=&#34;./stm32boards3.png&#34;&gt;&lt;/img&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;ツール → シリアルポート&lt;/code&gt;から、Leafonyが接続されているシリアルポートを選択&lt;/p&gt;
&lt;img src=&#34;./stm32serial.jpg&#34; width=&#34;640&#34;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;p&gt;STM32 MCUに書き込むためには、&lt;a href=&#34;https://www.st.com/ja/development-tools/stm32cubeprog.html&#34; target=&#34;_blank&#34;&gt;STM32CubeProgrammer software&lt;/a&gt;をインストールする必要があります。
V2.5.0は動かないので注意してください。(Windows 64bitのV2.4.0とV2.6.0で動作確認しています)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Get Software&lt;/code&gt;ボタンをクリックします。
&lt;img src=&#34;./stm32cores3.png&#34;&gt;&lt;/img&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;Select versions&lt;/code&gt;をクリックして、&lt;code&gt;2.4.0&lt;/code&gt;を選択します。
&lt;img src=&#34;./stm32cores4.png&#34;&gt;&lt;/img&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;ACCEPT&lt;/code&gt;をクリックします。
&lt;img src=&#34;./stm32cores5.png&#34;&gt;&lt;/img&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;名&lt;/code&gt;、&lt;code&gt;姓&lt;/code&gt;、&lt;code&gt;E-mail address&lt;/code&gt;を入力し、&lt;br&gt;
&lt;code&gt;□I have read and understood the Sales Terms &amp;amp; Conditions, Terms of Use and Privacy Policy&lt;/code&gt;&lt;br&gt;
をチェックして、&lt;code&gt;Download&lt;/code&gt;をクリックします。
&lt;img src=&#34;./stm32cores6.png&#34;&gt;&lt;/img&gt;
&lt;br&gt;
&lt;br&gt;
下記が表示されます。
&lt;img src=&#34;./stm32cores7.png&#34;&gt;&lt;/img&gt;
&lt;br&gt;
&lt;br&gt;
登録したアドレスにメールが届くので&lt;code&gt;Download now&lt;/code&gt;をクリックしてダウンロードします。&lt;br&gt;
&lt;img src=&#34;./stm32cores8.png&#34;&gt;&lt;/img&gt;&lt;/p&gt;
&lt;p&gt;これでSTM32 MCUリーフが使えるようになります。
&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;マイコンボードに書き込む&#34;&gt;マイコンボードに書き込む&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.leafony.com/docs/leaf/processor/ap03/ap03_tips.jpg&#34;&gt;&lt;img src=&#34;https://docs.leafony.com/docs/leaf/processor/ap03/ap03_tips.jpg&#34; width=&#34;450&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;STM32 MCUリーフの書き込みスイッチをProgramにします。すると赤LEDが点灯します。
Arduino IDEのマイコンボードに書き込むボタンをクリックします。
正常に書き込まれた場合は &lt;code&gt;Start operation achieved successfully&lt;/code&gt;と表示されます。
&lt;img src=&#34;./operation1.png&#34;&gt;&lt;/img&gt;&lt;/p&gt;
&lt;p&gt;書き込みが完了したら、
STM32 MCUリーフの書き込みスイッチをRunにしてください。すると赤LEDが消灯します。
STM32 MCUリーフのリセットスイッチを押してください。
&lt;br&gt;
&lt;br&gt;
書き込みスイッチをProgramにしないで書き込みを行った場合は
&lt;code&gt;ボードへの書き込みが完了しました&lt;/code&gt;と表示されますが、下部に&lt;code&gt;Timeout error occured&lt;/code&gt;と表示されます。
書き込みスイッチをProgramにしていて&lt;code&gt;Timeout error occured&lt;/code&gt;が表示された場合は、リセットスイッチを押して再度マイコンボードに書き込むボタンをクリックします。
&lt;img src=&#34;./operation2.png&#34;&gt;&lt;/img&gt;&lt;/p&gt;
&lt;h2 id=&#34;ライブラリのインストール&#34;&gt;ライブラリのインストール&lt;/h2&gt;
&lt;p&gt;一部のリーフを使用するには、追加のライブラリをインストールする必要があります。&lt;br&gt;
下記の手順を参考に、あらかじめ全てののライブラリをインストールしておきましょう。&lt;/p&gt;
&lt;h3 id=&#34;1-使用するライブラリ&#34;&gt;1. 使用するライブラリ&lt;/h3&gt;
&lt;p&gt;各Kitで使用するライブラリは以下の通りです。&lt;/p&gt;
&lt;table class=&#34;table-hover&#34;&gt;
  &lt;thread&gt;
    &lt;tr&gt;
      &lt;th&gt;リーフ名&lt;/th&gt;
      &lt;th&gt;必要なライブラリ名&lt;/th&gt;
      &lt;th&gt;推奨バージョン&lt;/th&gt;
      &lt;th&gt;説明&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thread&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;BLE&lt;/td&gt;
      &lt;td&gt;&lt;a href=&#34;https://github.com/Leafony/TBGLib&#34; target=&#34;_blank&#34;&gt;TBGLib&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;/td&gt;
      &lt;td&gt;Bluetoothライブラリ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td rowspan=6&gt;4-Sensors&lt;/td&gt;
      &lt;td&gt;&lt;a href=&#34;https://github.com/adafruit/Adafruit_Sensor&#34; target=&#34;_blank&#34;&gt;Adafruit_Sensor.h&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;/td&gt;
      &lt;td&gt;ユニファイドセンサドライバ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&#34;https://github.com/adafruit/Adafruit_BusIO&#34; target=&#34;_blank&#34;&gt;Adafruit_BusIO_Register.h&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;/td&gt;
      &lt;td&gt;Bus IOライブラリ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&#34;https://github.com/ameltech/sme-hts221-library&#34; target=&#34;_blank&#34;&gt;HTS221.h&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;/td&gt;
      &lt;td&gt;温湿度センサライブラリ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&#34;https://github.com/adafruit/Adafruit_HTS221&#34; target=&#34;_blank&#34;&gt;Adafruit_HTS221.h&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;/td&gt;
      &lt;td&gt;Adafruit温湿度センサライブラリ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&#34;https://github.com/closedcube/ClosedCube_OPT3001_Arduino&#34; target=&#34;_blank&#34;&gt;ClosedCube_OPT3001.h&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;/td&gt;
      &lt;td&gt;照度センサライブラリ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&#34;https://github.com/adafruit/Adafruit_LIS3DH/tree/1.1.2&#34; target=&#34;_blank&#34;&gt;Adafruit_LIS3DH.h&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;1.1.2&lt;/td&gt;
      &lt;td&gt;加速度センサライブラリ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;LCD&lt;/td&gt;
      &lt;td&gt;&lt;a href=&#34;https://github.com/tomozh/arduino_ST7032&#34; target=&#34;_blank&#34;&gt;ST7032.h&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;/td&gt;
      &lt;td&gt;LCDライブラリ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;AVR MCU&lt;/td&gt;
      &lt;td&gt;&lt;a href=&#34;https://github.com/PaulStoffregen/MsTimer2&#34; target=&#34;_blank&#34;&gt;MsTimer2.h&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;/td&gt;
      &lt;td&gt;タイマ割り込みライブラリ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;RTC&amp;MicroSD&lt;/td&gt;
      &lt;td&gt;&lt;a href=&#34;https://github.com/adafruit/RTClib&#34; target=&#34;_blank&#34;&gt;RTClib.h&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;&lt;/td&gt;
      &lt;td&gt;RTCライブラリ&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;2-ライブラリをダウンロード&#34;&gt;2. ライブラリをダウンロード&lt;/h3&gt;
&lt;p&gt;上記表のリンクをクリックすると、ライブラリのGitHubリポジトリにアクセスします。
&lt;code&gt;Code → Download ZIP&lt;/code&gt;をクリックし、ライブラリをダウンロードしましょう。&lt;/p&gt;
&lt;img src=&#34;github_1.png&#34; width=&#34;600&#34;&gt;
&lt;h3 id=&#34;3-ライブラリをインクルード&#34;&gt;3. ライブラリをインクルード&lt;/h3&gt;
&lt;p&gt;Arduinoを立ち上げ、&lt;code&gt;スケッチ → ライブラリをインクルード → ZIP形式のライブラリをインストール&lt;/code&gt;の順に選択して、先程ダウンロードしたZIPファイルを読み込みましょう。&lt;/p&gt;
&lt;img src=&#34;IDE_libinclude.png&#34; width=&#34;640&#34;&gt;  
&lt;br&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: STM32CubeIDEの設定</title>
      <link>https://docs.leafony.com/docs/environment/stm32/stm32cube_ide/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://docs.leafony.com/docs/environment/stm32/stm32cube_ide/</guid>
      <description>
        
        
        &lt;h2 id=&#34;64bit版javaをインストール&#34;&gt;64bit版JAVAをインストール&lt;/h2&gt;
&lt;p&gt;STM32CubeIDEインストール前に64bit版JAVAをインストールすることが必要となります。
&lt;a href=&#34;https://java.com/ja/download/&#34; target=&#34;_blank&#34;&gt;Java ホームページ&lt;/a&gt;からダウンロードしましょう。&lt;/p&gt;
&lt;h3 id=&#34;ダウンロード&#34;&gt;ダウンロード&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;同意して無料ダウンロードを開始&lt;/code&gt;をクリックしましょう。
&lt;img src=&#34;./java_downroad.png&#34; width=&#34;500&#34;&gt;　&lt;/p&gt;
&lt;h3 id=&#34;インストール&#34;&gt;インストール&lt;/h3&gt;
&lt;p&gt;ダウンロードしたjxpiinstall.exeをダブルクリックして開き、&lt;code&gt;インストール&lt;/code&gt;をクリックして下さい。&lt;br&gt;
&lt;img src=&#34;./java_setup.png&#34; width=&#34;500&#34;&gt;
&lt;img src=&#34;./java_setup2.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;閉じる&lt;/code&gt;をクリックしてください。
&lt;img src=&#34;./java_setup3.png&#34; width=&#34;500&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;stm32cubeideをインストール&#34;&gt;STM32CubeIDEをインストール&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.st.com/ja/development-tools/stm32cubeide.html&#34; target=&#34;_blank&#34;&gt;STM32CubeIDE&lt;/a&gt;をダウンロードしましょう。&lt;/p&gt;
&lt;h3 id=&#34;ダウンロード-1&#34;&gt;ダウンロード&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ソフトウェア入手&lt;/code&gt;をクリックして下さい。
&lt;img src=&#34;./stm32cubeide.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
製品型番STM32CubeIDE-Win行の&lt;code&gt;ソフトウエア入手&lt;/code&gt;をクリックして下さい。
&lt;img src=&#34;./stm32cubeide2.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;同意&lt;/code&gt;をクリックして下さい。
&lt;img src=&#34;./stm32cubeide3.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;名&lt;/code&gt;、&lt;code&gt;姓&lt;/code&gt;、&lt;code&gt;E-mail address&lt;/code&gt;を入力し、&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;□I have read and understood the Sales Terms &amp;amp; Conditions, Terms of Use and Privacy Policy
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;をチェックして、&lt;code&gt;ダウンロード&lt;/code&gt;をクリックしてください。
&lt;img src=&#34;./stm32cubeide4.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
&lt;br&gt;
下記ページが表示されます。
&lt;img src=&#34;./stm32cubeide5.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
&lt;br&gt;
登録したアドレスにメールが届くので、&lt;code&gt;ダウンロード&lt;/code&gt;をクリックしてダウンロードを開始します。&lt;br&gt;
&lt;img src=&#34;./stm32cubeide6.png&#34; width=&#34;500&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;インストール-1&#34;&gt;インストール&lt;/h3&gt;
&lt;p&gt;ダウンロードしたZIPファイルを解凍します。&lt;br&gt;
解凍してできた&lt;code&gt;st-stm32cubeide_1.4.0_7511_20200720_0928_x86_64.exe&lt;/code&gt;をダブルクリックします。
(ダウンロードした時期によりバージョンが変わる可能性があり数字が異なる場合があります)&lt;br&gt;
&lt;br&gt;
&lt;code&gt;Next&lt;/code&gt;をクリックしてください。
&lt;img src=&#34;./stm32cubeide7.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;I Agree&lt;/code&gt;をクリックしてください。
&lt;img src=&#34;./stm32cubeide8.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;Install&lt;/code&gt;をクリックしてください。
&lt;img src=&#34;./stm32cubeide9.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;Next&lt;/code&gt;をクリックしてください。
&lt;img src=&#34;./stm32cubeide10.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;Finish&lt;/code&gt;をクリックしてください。
&lt;img src=&#34;./stm32cubeide11.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
これでインストール完了です。&lt;/p&gt;
&lt;h2 id=&#34;stm32cubeideの日本語化&#34;&gt;STM32CubeIDEの日本語化&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://mergedoc.osdn.jp/&#34; target=&#34;_blank&#34;&gt;MargeDoc Projectホームページ&lt;/a&gt;からダウンロードしましょう。&lt;/p&gt;
&lt;h3 id=&#34;ダウンロード-2&#34;&gt;ダウンロード&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Windows&lt;/code&gt;をクリックしてください。
&lt;img src=&#34;./japanese1.png&#34; width=&#34;500&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;インストール-2&#34;&gt;インストール&lt;/h3&gt;
&lt;p&gt;ダウンロードしたZIPファイルを解凍します。
解凍してできた&lt;code&gt;setup.exe&lt;/code&gt;をダブルクリックして下さい。
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;選択&lt;/code&gt;をクリックしてください。
&lt;img src=&#34;./japanese2.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;C:\ST\STM32CubeIDE_1.4.0\STM32CubeIDE\stm32cubeide.exe&lt;/code&gt;を選択し、&lt;code&gt;開く&lt;/code&gt;をクリック
&lt;img src=&#34;./japanese3.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;日本語化する&lt;/code&gt;をクリックしてください。
&lt;img src=&#34;./japanese4.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;OK&lt;/code&gt;をクリックしてください。
&lt;img src=&#34;./japanese5.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;終了&lt;/code&gt;をクリックしてください。
&lt;img src=&#34;./japanese6.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
これでインストール完了です。&lt;/p&gt;
&lt;h3 id=&#34;文字化け対策&#34;&gt;文字化け対策&lt;/h3&gt;
&lt;p&gt;STM32CubeMXのコード生成時にUTF-8が文字化けしないようにするには(本当に必要かは不明)
環境変数に以下を追加します。&lt;br&gt;
変数名：&lt;code&gt;JAVA_TOOL_OPTIONS&lt;/code&gt;
変数値：&lt;code&gt;-Dfile.encoding=UTF-8&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;コントロールパネル&lt;/code&gt;→&lt;code&gt;システム&lt;/code&gt;→&lt;code&gt;システムの詳細設定&lt;/code&gt;→&lt;code&gt;環境変数&lt;/code&gt;を選択します。
&lt;img src=&#34;./garbled1.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;新規&lt;/code&gt;をクリックします。
&lt;img src=&#34;./garbled2.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
&lt;br&gt;
変数名に&lt;code&gt;JAVA_TOOL_OPTIONS&lt;/code&gt;、変数値に&lt;code&gt;-Dfile.encoding=UTF-8&lt;/code&gt;を入力します。
&lt;img src=&#34;./garbled3.png&#34; width=&#34;500&#34;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;code&gt;OK&lt;/code&gt;をクリックします。
&lt;img src=&#34;./garbled4.png&#34; width=&#34;500&#34;&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: STM32のデバッグを行う場合</title>
      <link>https://docs.leafony.com/docs/environment/stm32/stm32_debug/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://docs.leafony.com/docs/environment/stm32/stm32_debug/</guid>
      <description>
        
        
        &lt;h2 id=&#34;概要&#34;&gt;概要&lt;/h2&gt;
&lt;p&gt;STM32のデバッグを行う場合はArduino IDE以外の開発環境(STM32CubeIDE等)と開発ツール(STLINK-V3SET等)が必要です。
Leafonyとを開発ツールはSWDで接続します。&lt;/p&gt;
&lt;h2 id=&#34;swdの使用&#34;&gt;SWDの使用&lt;/h2&gt;
&lt;p&gt;AX01 Shieldを接続することにより、LeafonyでSWDを使用することができます。
&lt;br&gt;
&lt;br&gt;
&lt;img src=&#34;./swd_1.png&#34; width=&#34;250&#34;&gt;&lt;/img&gt;
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;　SWDコネクタの仕様&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;コネクタ型番&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;FTSH-105-01-L-D&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ピン数&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ピンピッチ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1.27mm&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ピン配置&lt;br&gt;
&lt;img src=&#34;./swd_2.png&#34; width=&#34;250&#34;&gt;&lt;/img&gt;
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;開発ツール&#34;&gt;開発ツール&lt;/h2&gt;
&lt;p&gt;STLINK-V3SETにはAX01 ShieldのSWDコネクタに接続するケーブルが付属しているため、そのまま接続が可能です。
&lt;br&gt;
&lt;img src=&#34;./swd_3.png&#34;&gt;&lt;/img&gt;
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;その他の開発ツールの接続&#34;&gt;その他の開発ツールの接続&lt;/h2&gt;
&lt;p&gt;ST-LINK-V2を持っている場合は、&lt;a href=&#34;http://strawberry-linux.com/catalog/items?code=15079&#34; target=&#34;_blank&#34;&gt;変換アダプタ(ARM-JTAG-20-10)&lt;/a&gt;により接続が可能です。
変換アダプタを使用してジャンパケーブル等でNucleo のSWDに接続することも可能です。&lt;br&gt;
&lt;img src=&#34;./swd_4.png&#34;&gt;&lt;/img&gt;
&lt;br&gt;
&lt;br&gt;
Nucleo のSWDに接続する場合、自作も可能です。&lt;br&gt;&lt;/p&gt;
&lt;div class=&#34;row&#34;&gt;






  &lt;div class=&#34;card&#34; style=&#34;width: 18rem;&#34;&gt;
    &lt;img class=&#34;card-img-top&#34; style=&#34;object-fit: cover; width: 100%; height: 15rem;&#34; src=&#34;swd_5.png&#34; alt=&#34;Card image cap&#34;&gt;
    
    &lt;div class=&#34;card-body&#34;&gt;
      &lt;h4 class=&#34;card-title&#34;&gt;
           
      &lt;/h4&gt;
      &lt;p class=&#34;card-text&#34;&gt;&lt;a href=&#34;http://strawberry-linux.com/catalog/items?code=15079&#34; target=&#34;_blank&#34;&gt;ハーフピッチ リボンケーブル&lt;/a&gt;&lt;/p&gt;
      
    &lt;/div&gt;
  &lt;/div&gt;






  &lt;div class=&#34;card&#34; style=&#34;width: 18rem;&#34;&gt;
    &lt;img class=&#34;card-img-top&#34; style=&#34;object-fit: cover; width: 100%; height: 15rem;&#34; src=&#34;swd_6.png&#34; alt=&#34;Card image cap&#34;&gt;
    
    &lt;div class=&#34;card-body&#34;&gt;
      &lt;h4 class=&#34;card-title&#34;&gt;
           
      &lt;/h4&gt;
      &lt;p class=&#34;card-text&#34;&gt;&lt;a href=&#34;https://akizukidenshi.com/catalog/g/gC-13800/&#34; target=&#34;_blank&#34;&gt;ハーフピッチ　ピンヘッダ&lt;/a&gt;&lt;/p&gt;
      
    &lt;/div&gt;
  &lt;/div&gt;






  &lt;div class=&#34;card&#34; style=&#34;width: 18rem;&#34;&gt;
    &lt;img class=&#34;card-img-top&#34; style=&#34;object-fit: cover; width: 100%; height: 15rem;&#34; src=&#34;swd_7.png&#34; alt=&#34;Card image cap&#34;&gt;
    
    &lt;div class=&#34;card-body&#34;&gt;
      &lt;h4 class=&#34;card-title&#34;&gt;
           
      &lt;/h4&gt;
      &lt;p class=&#34;card-text&#34;&gt;&lt;a href=&#34;https://akizukidenshi.com/catalog/g/gP-14224/&#34; target=&#34;_blank&#34;&gt;ピッチ変換基板&lt;/a&gt;&lt;/p&gt;
      
    &lt;/div&gt;
  &lt;/div&gt;






  &lt;div class=&#34;card&#34; style=&#34;width: 18rem;&#34;&gt;
    &lt;img class=&#34;card-img-top&#34; style=&#34;object-fit: cover; width: 100%; height: 15rem;&#34; src=&#34;swd_8.png&#34; alt=&#34;Card image cap&#34;&gt;
    
    &lt;div class=&#34;card-body&#34;&gt;
      &lt;h4 class=&#34;card-title&#34;&gt;
           
      &lt;/h4&gt;
      &lt;p class=&#34;card-text&#34;&gt;&lt;a href=&#34;https://akizukidenshi.com/catalog/g/gC-03786/&#34; target=&#34;_blank&#34;&gt;ピンソケット&lt;/a&gt;&lt;/p&gt;
      
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
      </description>
    </item>
    
    <item>
      <title>Docs: STM32を使用する場合の注意点</title>
      <link>https://docs.leafony.com/docs/environment/stm32/stm32_notice/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://docs.leafony.com/docs/environment/stm32/stm32_notice/</guid>
      <description>
        
        
        &lt;p&gt;STM32をArduinoで使用する場合は以下の注意点があります。&lt;/p&gt;
&lt;h2 id=&#34;ピンの指定&#34;&gt;ピンの指定&lt;/h2&gt;
&lt;p&gt;STM32 MCUのピン配置は、Nucleo L452REと異なっていますので、STM32L452REのポート名で使用するピンを指定してください。&lt;/p&gt;
&lt;h2 id=&#34;スケッチの違い&#34;&gt;スケッチの違い&lt;/h2&gt;
&lt;h3 id=&#34;timer&#34;&gt;Timer&lt;/h3&gt;
&lt;p&gt;AVR MCUで使用する”MsTimer2”はSTM32 MCUでは使用できません。
HardwareTimer等を使用してください。
使用例を以下に記載します。
詳細は&lt;a href=&#34;https://github.com/stm32duino/wiki/wiki/HardwareTimer-library&#34; target=&#34;_blank&#34;&gt;こちら&lt;/a&gt; を参照してください。
&lt;br&gt;
&lt;br&gt;
初期設定&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;color:#000&#34;&gt;HardwareTimer&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;timer2&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;HardwareTimer&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;TIM2&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;);&lt;/span&gt;

  &lt;span style=&#34;color:#000&#34;&gt;timer2&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;setOverflow&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;LOOP_INTERVAL&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;MICROSEC_FORMAT&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;);&lt;/span&gt;       &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;// 125ms
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#000&#34;&gt;timer2&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;attachInterrupt&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;intTimer&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;);&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;timer2&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resume&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
割り込みルーチン
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;intTimer&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;void&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;){&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;bInterval&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;
　&lt;span style=&#34;color:#a40000&#34;&gt;：&lt;/span&gt;
　&lt;span style=&#34;color:#a40000&#34;&gt;：&lt;/span&gt;
&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
      </description>
    </item>
    
  </channel>
</rss>
